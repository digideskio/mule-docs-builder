<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="/docs/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="/docs/css/bootstrap.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
    <link href="/docs/css/asciidoctor.css" rel="stylesheet">
    <link href="/docs/css/mule-docs.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
    <script src="/docs/js/jquery-1.11.2.min.js"></script>
    <script src="/docs/js/bootstrap.js"></script>
    <title>MuleSoft Documentation - Assumptions</title>
</head>
<body>
<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<div class="navbar navbar-inverse navbar-static-top">
    <div class="navbar-inner">
        <div class="container-fluid" id="top">
            <img src="/docs/img/mule-docs-logo.png">
        </div>
    </div>
</div>
<div class="container" id="main">
    <div class="row">
        <div class="col-md-3">
            <ul class="toc">

                <li class="toc-section"><div class="toc-section-header child"><a href="/docs/30-mins-with-mule/">First 30 Minutes with Mule</a><a href="#K3UA299TR3" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse in" id="K3UA299TR3"><a href="/docs/30-mins-with-mule/anypoint-platform-primer"><li class="child">Anypoint Platform Primer</li></a><a href="/docs/30-mins-with-mule/anypoint-studio-essentials"><li class="child">Anypoint Studio Essentials</li></a><a href="/docs/30-mins-with-mule/begin-with-the-basics"><li class="child">Begin with the Basics</li></a><a href="/docs/30-mins-with-mule/build+a+hello+world+application"><li class="child">Build a Hello World Application</li></a><a href="/docs/30-mins-with-mule/download-and-launch-anypoint-studio"><li class="child">Download and Launch Anypoint Studio</li></a></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/v/3.6/cloudhub">CloudHub</a><a href="#AZMSB70BC5" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse in" id="AZMSB70BC5" style="height: 0px;"><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/v/3.6/getting-started-with-cloudhub">Getting Started with CloudHub</a><a href="#SD5ZWZW5WM" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="SD5ZWZW5WM" style="height: 0px;"><a href="/docs/cloudhub/v/3.6/cloudhub-at-a-glance"><li class="child">CloudHub at a Glance</li></a><a href="/docs/cloudhub/v/3.6/hello-world-on-cloudhub"><li class="child">Hello World on CloudHub</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-getting-started-with-connectors"><li class="child">Getting Started with Connectors</li></a></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/v/3.6/cloudhub-tutorials">CloudHub Tutorials</a><a href="#6DWGOVCJMC" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="6DWGOVCJMC" style="height: 0px;"><a href="/docs/cloudhub/v/3.6/cloudhub-building-an-https-service"><li class="child">Building an HTTPS Service</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-custom-application-alerts"><li class="child">Custom Application Alerts</li></a></ul></li><a href="/docs/cloudhub/v/3.6/developing-a-cloudhub-application"><li class="child">Developing a CloudHub Application</li></a><a href="/docs/cloudhub/v/3.6/deploying-a-cloudhub-application"><li class="child">Deploying a CloudHub Application</li></a><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/v/3.6/managing-cloudhub-applications">Managing CloudHub Applications</a><a href="#GP4K2C0AFD" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse in" id="GP4K2C0AFD"><a href="/docs/cloudhub/v/3.6/cloudhub-console-overview"><li class="child">CloudHub Console Overview</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-administration"><li class="child">CloudHub Administration</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-alerts-and-notifications"><li class="child">CloudHub Alerts and Notifications</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-fabric"><li class="child">CloudHub Fabric</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-insight"><li class="child">CloudHub Insight</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-command-line-tools"><li class="child">Command Line Tools</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-managing-application-data-with-object-stores"><li class="child">Managing Application Data with Object Stores</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-managing-queues"><li class="child">Managing Queues</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-managing-schedules"><li class="child">Managing Schedules</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-secure-application-properties"><li class="child">Secure Application Properties</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-viewing-log-data"><li class="child">Viewing Log Data</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-virtual-private-cloud"><li class="child">Virtual Private Cloud</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-worker-monitoring"><li class="child active">CloudHub Worker Monitoring</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-penetration-testing-policies"><li class="child">Penetration Testing Policies</li></a><a href="/docs/cloudhub/v/3.6/secure-data-gateway"><li class="child">Secure Data Gateway</li></a></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/v/3.6/cloudhub-api">CloudHub API</a><a href="#6ZZ1ZMSR4W" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="6ZZ1ZMSR4W" style="height: 0px;"><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/v/3.6/cloudhub-applications">Applications</a><a href="#L30CVXT55N" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="L30CVXT55N" style="height: 0px;"><a href="/docs/cloudhub/v/3.6/cloudhub-create-application"><li class="child">Create Application</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-delete-application"><li class="child">Delete Application</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-deploy-application"><li class="child">Deploy Application</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-get-application"><li class="child">Get Application</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-list-all-applications"><li class="child">List All Applications</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-update-application-metadata"><li class="child">Update Application Metadata</li></a></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/v/3.6/cloudhub-logs">Logs</a><a href="#OGIJ48E8OX" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="OGIJ48E8OX" style="height: 0px;"><a href="/docs/cloudhub/v/3.6/cloudhub-list-all-logs"><li class="child">List All Logs</li></a></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/v/3.6/cloudhub-notifications">Notifications</a><a href="#6E1M3BJTO3" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="6E1M3BJTO3" style="height: 0px;"><a href="/docs/cloudhub/v/3.6/cloudhub-create-notification"><li class="child">Create Notification</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-list-notifications"><li class="child">List Notifications</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-update-all-notifications"><li class="child">Update All Notifications</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-update-notification"><li class="child">Update Notification</li></a></ul></li></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/v/3.6/cloudhub-architecture">CloudHub Architecture</a><a href="#78K6NYZLEH" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="78K6NYZLEH" style="height: 0px;"><a href="/docs/cloudhub/v/3.6/cloudhub-networking-guide"><li class="child">CloudHub Networking Guide</li></a></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/v/3.6/cloudhub-reference-materials">CloudHub Reference Materials</a><a href="#KL7BZNH0LI" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="KL7BZNH0LI" style="height: 0px;"><a href="/docs/cloudhub/v/3.6/cloudhub-amazon-rds-support"><li class="child">CloudHub Amazon RDS Support</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-configure-twitter-for-api-access"><li class="child">Configure Twitter for API Access</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-configure-twilio-for-api-access"><li class="child">Configure Twilio for API Access</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-salesforce-developer-account-setup"><li class="child">Salesforce Developer Account Setup</li></a></ul></li><a href="/docs/cloudhub/v/3.6/cloudhub-maintenance-and-upgrade-policy"><li class="child">Maintenance and Upgrade Policy</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-community-and-support"><li class="child">Community and Support</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-mule-esb-and-cloudhub"><li class="child">Mule ESB and CloudHub</li></a><a href="/docs/cloudhub/v/3.6/cloudhub-faq"><li class="child">FAQ</li></a></ul></li>

            </ul>

        </div>
        <!--/span-->
        <div class="col-md-9">
            <div id="content">

                <ol class="breadcrumb"><li><a href="developers.mulesoft.com/docs/">MuleSoft Docs</a></li><li><a href="cloudhub">CloudHub</a></li><li><a href="managing-cloudhub-applications">Managing CloudHub Applications</a></li><li class="active">CloudHub Worker Monitoring</li></ol>

                <div id="header">
                    <h1>Assumptions</h1>
                </div>
                <div id="doc-metadata">
                    <!--<span class="updated-date" style="color:#B1B1B1;">Updated: January 15, 2015</span>
                   <span class="updated-date" style="color:#DDD; padding: 0 0 0 7px;">/</span>-->
                    <span class="updated-date" style="color:#B1B1B1; padding: 0 0 0 0px;">Version: </span>
       <span class="dropdown" style="padding: 0 7px 0 0px;"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Current <span class="caret"></span></a>
        <ul class="dropdown-menu" role="menu">
            <li><a href="#">January 2015</a></li>
            <li><a href="#">October 2014</a></li>
            <li><a href="#">July 2014</a></li>
        </ul> </span>
                    <span class="updated-date" style="color:#DDD; padding: 0 0 0 0px;">/</span>
       <span class="dropdown" style="padding: 0 7px 0 7px;"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Export <span class="caret"></span></a>
        <ul class="dropdown-menu" role="menu">
            <li><a href="#">PDF - Only this page</a></li>
            <li><a href="#">PDF - CloudHub section</a></li>
            <li><a href="#">EPub - MuleSoft Docs</a></li>
        </ul> </span>
                    <span class="updated-date" style="color:#DDD; padding: 0 0 0 0px;">/</span>
       <span class="dropdown" style="padding: 0 7px 0 7px;"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Feedback <span class="caret"></span></a>
       <ul class="dropdown-menu" role="menu">
           <li><a href="#">Rate this Topic</a></li>
           <li><a href="#">Edit on GitHub</a></li>
       </ul> </span>
                </div>

                <div class="paragraph"> 
 <p>[[WorkerMonitoring-WorkerMonitoring&nbsp;]] = Worker Monitoring&nbsp;<em><br> </em></p> 
</div> 
<div class="paragraph"> 
 <p>CloudHub supports worker monitoring and automatic restarts for unresponsive applications. Monitoring allows you the option to receive notifications and diagnostic information if your application becomes unresponsive. Optionally, enable automatic restarts so that your application can recover automatically without your intervention. CloudHub gives you the flexibility to conduct monitoring with or without enabling automatic restarts.&nbsp;</p> 
</div> 
<div class="paragraph"> 
 <p>Monitoring is enabled by default on all applications deployed to runtimes 3.4.n, 3.5.n, or later. (Applications already deployed before the monitoring feature was introduced need to be redeployed for monitoring to take effect.)&nbsp;You can&nbsp;activate the automatic restart feature on a per-application basis using the CloudHub console when you deploy a new application or redeploy an existing application.</p> 
</div> 
<div class="literalblock"> 
 <div class="content"> 
  <pre>&nbsp;Contents
* link:#WorkerMonitoring-Assumptions[Assumptions]
* link:#WorkerMonitoring-EnablingAutomaticRestarts[Enabling Automatic
Restarts]
* link:#WorkerMonitoring-HowMonitoringWorks[How Monitoring Works]
* link:#WorkerMonitoring-HowAutomaticRestartsWork[How Automatic Restarts
Work]
* link:#WorkerMonitoring-GoFurther[Go Further]</pre> 
 </div> 
</div> 
<div class="literalblock"> 
 <div class="content"> 
  <pre>&nbsp;</pre> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="WorkerMonitoring-Assumptions"><a class="anchor" href="#WorkerMonitoring-Assumptions"></a>Assumptions</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>This document assumes that you&nbsp;are familiar with&nbsp;http://www.mulesoft.org/documentation/display/current/Deploying+a+CloudHub+Application[deploying applications using the CloudHub console]&nbsp;and that you are deploying to runtime 3.4.n, 3.5.n, or later.&nbsp;</p> 
  </div> 
  <div class="literalblock"> 
   <div class="content"> 
    <pre>&nbsp;</pre> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="WorkerMonitoring-EnablingAutomaticRestarts"><a class="anchor" href="#WorkerMonitoring-EnablingAutomaticRestarts"></a>Enabling Automatic Restarts</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>During deployment, you have the option to enable automatic restarts for your application.&nbsp;</p> 
  </div> 
  <div class="paragraph"> 
   <p>Click <strong>Settings</strong> &gt; <strong>Advanced</strong> &gt; <strong>Automatically restart application when not responding</strong>.</p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981349/CHWorkerMonSettings.png?version=4&amp;modificationDate=1415748989496" alt="image"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>Click <strong>Apply Changes</strong> at the top of the page to complete the setting.</p> 
  </div> 
  <div class="paragraph"> 
   <p>Upon deployment, CloudHub inserts a monitoring ping flow into your application. When the application is started, the logs display a message to indicate that monitoring is enabled and that the ping flow has been injected into your application.</p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981349/CHWorkMonInitApp.png?version=2&amp;modificationDate=1415749031910" alt="image"></span><br> After your application fully starts, the log displays an additional message to indicate that monitoring has started, "Mule system health monitoring started for your application."<br></p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981349/CHMuleSystemHealthMsg.png?version=1&amp;modificationDate=1414187844425" alt="image"></span></p> 
  </div> 
  <div class="literalblock"> 
   <div class="content"> 
    <pre>&nbsp;</pre> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="WorkerMonitoring-HowMonitoringWorks"><a class="anchor" href="#WorkerMonitoring-HowMonitoringWorks"></a>How Monitoring Works</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Every thirty seconds, CloudHub sends an HTTP get request to the ping flow within the application. If the application is running normally, the ping flow sends a response. If CloudHub receives no response from the ping three times in a row, the Logs print a warning and display a full thread dump.</p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981349/CH-monitoring-threaddump.png?version=1&amp;modificationDate=1413926050268" alt="image"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>In addition, CloudHub triggers a notification to the console to alert you that a worker for this application stopped responding.</p> 
  </div> 
  <div class="paragraph"> 
   <p>If you have configured email alerts, the nonresponsive worker also triggers an email alert based on the "Worker Not Responding" event. See&nbsp;<a href="/documentation/display/current/Alerts+and+Notifications">Alerts and Notifications</a>&nbsp;for more information about configuring these alerts.</p> 
  </div> 
  <div class="literalblock"> 
   <div class="content"> 
    <pre>&nbsp;</pre> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="WorkerMonitoring-HowAutomaticRestartsWork"><a class="anchor" href="#WorkerMonitoring-HowAutomaticRestartsWork"></a>How Automatic Restarts Work</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>If you check the box labeled <strong>Automatically restart application when not responding</strong>, CloudHub follows the same procedure described above, but also automatically triggers redeployment of the application.&nbsp;</p> 
  </div> 
  <div class="paragraph"> 
   <p>If you do not have this box checked, CloudHub only produces a notification and a log message and will take no further action.</p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981349/CH-monitoring-notification2.png?version=1&amp;modificationDate=1413926050254" alt="image"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981349/CH-monitoring-logs5.png?version=1&amp;modificationDate=1413926050239" alt="image"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>The monitoring script exits and the application is left unchanged until you manually intervene.</p> 
  </div> 
  <div class="paragraph"> 
   <p>If you have enabled automatic restart, CloudHub produces a notification to signal that the restart has been triggered and another to report the success or failure of the restart:&nbsp;</p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981349/CH-monitoring-notifications.png?version=1&amp;modificationDate=1413926050260" alt="image"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>The logs report the details of the restart procedure. If the restart succeeds, the ping script is reinitialized so that monitoring continues.</p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981349/CH-successfulrestart.png?version=1&amp;modificationDate=1413926050290" alt="image"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>If the restart fails, CloudHub continues to attempt restarting up to five times. Once the maximum number of restart attempts is exceeded, CloudHub takes no further action.&nbsp;The monitoring script exits and the application is left unchanged until you manually intervene.</p> 
  </div> 
  <div class="literalblock"> 
   <div class="content"> 
    <pre>&nbsp;</pre> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="WorkerMonitoring-GoFurther"><a class="anchor" href="#WorkerMonitoring-GoFurther"></a>Go Further</h2> 
 <div class="sectionbody"> 
  <div class="ulist"> 
   <ul> 
    <li> <p>Read more about <a href="/documentation/display/current/Alerts+and+Notifications#AlertsandNotifications-WorkerProblem">configuring alerts based on worker problems</a>.</p> </li> 
   </ul> 
  </div> 
 </div> 
</div>

            </div>
        </div>
    </div>
</div>
</body>
</html>
