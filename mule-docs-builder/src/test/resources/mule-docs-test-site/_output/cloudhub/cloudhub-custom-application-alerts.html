<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="/docs/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="/docs/css/bootstrap.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
    <link href="/docs/css/asciidoctor.css" rel="stylesheet">
    <link href="/docs/css/mule-docs.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
    <script src="/docs/js/jquery-1.11.2.min.js"></script>
    <script src="/docs/js/bootstrap.js"></script>
    <title>MuleSoft Documentation - Custom Application Alerts</title>
</head>
<body>
<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<div class="navbar navbar-inverse navbar-static-top">
    <div class="navbar-inner">
        <div class="container-fluid" id="top">
            <img src="/docs/img/mule-docs-logo.png">
        </div>
    </div>
</div>
<div class="container" id="main">
    <div class="row">
        <div class="col-md-3">
            <ul class="toc">

                <li class="toc-section"><div class="toc-section-header child"><a href="/docs/30-mins-with-mule/">First 30 Minutes with Mule</a><a href="#GNRG8Z4QMK" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse in" id="GNRG8Z4QMK"><a href="/docs/30-mins-with-mule/anypoint-platform-primer"><li class="child">Anypoint Platform Primer</li></a><a href="/docs/30-mins-with-mule/anypoint-studio-essentials"><li class="child">Anypoint Studio Essentials</li></a><a href="/docs/30-mins-with-mule/begin-with-the-basics"><li class="child">Begin with the Basics</li></a><a href="/docs/30-mins-with-mule/build+a+hello+world+application"><li class="child">Build a Hello World Application</li></a><a href="/docs/30-mins-with-mule/download-and-launch-anypoint-studio"><li class="child">Download and Launch Anypoint Studio</li></a></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/">CloudHub</a><a href="#XYFWHOW975" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse in" id="XYFWHOW975" style="height: 0px;"><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/getting-started-with-cloudhub">Getting Started with CloudHub</a><a href="#CXNEJQ289O" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="CXNEJQ289O" style="height: 0px;"><a href="/docs/cloudhub/cloudhub-at-a-glance"><li class="child">CloudHub at a Glance</li></a><a href="/docs/cloudhub/hello-world-on-cloudhub"><li class="child">Hello World on CloudHub</li></a><a href="/docs/cloudhub/cloudhub-getting-started-with-connectors"><li class="child">Getting Started with Connectors</li></a></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/cloudhub-tutorials">CloudHub Tutorials</a><a href="#034JG4ZOPY" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse in" id="034JG4ZOPY"><a href="/docs/cloudhub/cloudhub-building-an-https-service"><li class="child">Building an HTTPS Service</li></a><a href="/docs/cloudhub/cloudhub-custom-application-alerts"><li class="child active">Custom Application Alerts</li></a></ul></li><a href="/docs/cloudhub/developing-a-cloudhub-application"><li class="child">Developing a CloudHub Application</li></a><a href="/docs/cloudhub/deploying-a-cloudhub-application"><li class="child">Deploying a CloudHub Application</li></a><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/managing-cloudhub-applications">Managing CloudHub Applications</a><a href="#O54ZMHELCJ" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="O54ZMHELCJ" style="height: 0px;"><a href="/docs/cloudhub/cloudhub-console-overview"><li class="child">CloudHub Console Overview</li></a><a href="/docs/cloudhub/cloudhub-administration"><li class="child">CloudHub Administration</li></a><a href="/docs/cloudhub/cloudhub-alerts-and-notifications"><li class="child">CloudHub Alerts and Notifications</li></a><a href="/docs/cloudhub/cloudhub-fabric"><li class="child">CloudHub Fabric</li></a><a href="/docs/cloudhub/cloudhub-insight"><li class="child">CloudHub Insight</li></a><a href="/docs/cloudhub/cloudhub-command-line-tools"><li class="child">Command Line Tools</li></a><a href="/docs/cloudhub/cloudhub-managing-application-data-with-object-stores"><li class="child">Managing Application Data with Object Stores</li></a><a href="/docs/cloudhub/cloudhub-managing-queues"><li class="child">Managing Queues</li></a><a href="/docs/cloudhub/cloudhub-managing-schedules"><li class="child">Managing Schedules</li></a><a href="/docs/cloudhub/cloudhub-secure-application-properties"><li class="child">Secure Application Properties</li></a><a href="/docs/cloudhub/cloudhub-viewing-log-data"><li class="child">Viewing Log Data</li></a><a href="/docs/cloudhub/cloudhub-virtual-private-cloud"><li class="child">Virtual Private Cloud</li></a><a href="/docs/cloudhub/cloudhub-worker-monitoring"><li class="child">CloudHub Worker Monitoring</li></a><a href="/docs/cloudhub/cloudhub-penetration-testing-policies"><li class="child">Penetration Testing Policies</li></a><a href="/docs/cloudhub/secure-data-gateway"><li class="child">Secure Data Gateway</li></a></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/cloudhub-api">CloudHub API</a><a href="#MIM5F0K1UU" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="MIM5F0K1UU" style="height: 0px;"><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/cloudhub-applications">Applications</a><a href="#KE7S2L4I3T" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="KE7S2L4I3T" style="height: 0px;"><a href="/docs/cloudhub/cloudhub-create-application"><li class="child">Create Application</li></a><a href="/docs/cloudhub/cloudhub-delete-application"><li class="child">Delete Application</li></a><a href="/docs/cloudhub/cloudhub-deploy-application"><li class="child">Deploy Application</li></a><a href="/docs/cloudhub/cloudhub-get-application"><li class="child">Get Application</li></a><a href="/docs/cloudhub/cloudhub-list-all-applications"><li class="child">List All Applications</li></a><a href="/docs/cloudhub/cloudhub-update-application-metadata"><li class="child">Update Application Metadata</li></a></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/cloudhub-logs">Logs</a><a href="#0CQZL6RPQP" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="0CQZL6RPQP" style="height: 0px;"><a href="/docs/cloudhub/cloudhub-list-all-logs"><li class="child">List All Logs</li></a></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/cloudhub-notifications">Notifications</a><a href="#BGRHZ6MSNE" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="BGRHZ6MSNE" style="height: 0px;"><a href="/docs/cloudhub/cloudhub-create-notification"><li class="child">Create Notification</li></a><a href="/docs/cloudhub/cloudhub-list-notifications"><li class="child">List Notifications</li></a><a href="/docs/cloudhub/cloudhub-update-all-notifications"><li class="child">Update All Notifications</li></a><a href="/docs/cloudhub/cloudhub-update-notification"><li class="child">Update Notification</li></a></ul></li></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/cloudhub-architecture">CloudHub Architecture</a><a href="#0TZN6AB14I" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="0TZN6AB14I" style="height: 0px;"><a href="/docs/cloudhub/cloudhub-networking-guide"><li class="child">CloudHub Networking Guide</li></a></ul></li><li class="toc-section"><div class="toc-section-header child"><a href="/docs/cloudhub/cloudhub-reference-materials">CloudHub Reference Materials</a><a href="#DWJP1UJFWY" data-toggle="collapse" class="collapsed"><div class="toc-section-header-arrow"></div></a></div><ul class="collapsed child-section collapse" id="DWJP1UJFWY" style="height: 0px;"><a href="/docs/cloudhub/cloudhub-amazon-rds-support"><li class="child">CloudHub Amazon RDS Support</li></a><a href="/docs/cloudhub/cloudhub-configure-twitter-for-api-access"><li class="child">Configure Twitter for API Access</li></a><a href="/docs/cloudhub/cloudhub-configure-twilio-for-api-access"><li class="child">Configure Twilio for API Access</li></a><a href="/docs/cloudhub/cloudhub-salesforce-developer-account-setup"><li class="child">Salesforce Developer Account Setup</li></a></ul></li><a href="/docs/cloudhub/cloudhub-maintenance-and-upgrade-policy"><li class="child">Maintenance and Upgrade Policy</li></a><a href="/docs/cloudhub/cloudhub-community-and-support"><li class="child">Community and Support</li></a><a href="/docs/cloudhub/cloudhub-mule-esb-and-cloudhub"><li class="child">Mule ESB and CloudHub</li></a><a href="/docs/cloudhub/cloudhub-faq"><li class="child">FAQ</li></a></ul></li>

            </ul>

        </div>
        <!--/span-->
        <div class="col-md-9">
            <div id="content">

                <ol class="breadcrumb"><li><a href="developers.mulesoft.com/docs/">MuleSoft Docs</a></li><li><a href="">CloudHub</a></li><li><a href="cloudhub-tutorials">CloudHub Tutorials</a></li><li class="active">Custom Application Alerts</li></ol>

                <div id="header">
                    <h1>Custom Application Alerts</h1>
                </div>
                <div id="doc-metadata">
                    <!--<span class="updated-date" style="color:#B1B1B1;">Updated: January 15, 2015</span>
                   <span class="updated-date" style="color:#DDD; padding: 0 0 0 7px;">/</span>-->
                    <span class="updated-date" style="color:#B1B1B1; padding: 0 0 0 0px;">Version: </span>
       <span class="dropdown" style="padding: 0 7px 0 0px;"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Current <span class="caret"></span></a>
        <ul class="dropdown-menu" role="menu">
            <li><a href="#">January 2015</a></li>
            <li><a href="#">October 2014</a></li>
            <li><a href="#">July 2014</a></li>
        </ul> </span>
                    <span class="updated-date" style="color:#DDD; padding: 0 0 0 0px;">/</span>
       <span class="dropdown" style="padding: 0 7px 0 7px;"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Export <span class="caret"></span></a>
        <ul class="dropdown-menu" role="menu">
            <li><a href="#">PDF - Only this page</a></li>
            <li><a href="#">PDF - CloudHub section</a></li>
            <li><a href="#">EPub - MuleSoft Docs</a></li>
        </ul> </span>
                    <span class="updated-date" style="color:#DDD; padding: 0 0 0 0px;">/</span>
       <span class="dropdown" style="padding: 0 7px 0 7px;"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Feedback <span class="caret"></span></a>
       <ul class="dropdown-menu" role="menu">
           <li><a href="#">Rate this Topic</a></li>
           <li><a href="#">Edit on GitHub</a></li>
       </ul> </span>
                </div>

                <div id="preamble"> 
 <div class="sectionbody"> 
  <div class="literalblock"> 
   <div class="content"> 
    <pre>&nbsp;Contents
* link:#CustomApplicationAlerts-Prerequisites[Prerequisites]
* link:#CustomApplicationAlerts-CloudHubConnector[CloudHub Connector]
* link:#CustomApplicationAlerts-DeployingYourApplication[Deploying Your
Application]
* link:#CustomApplicationAlerts-TriggeringYourNotification[Triggering
Your Notification]
* link:#CustomApplicationAlerts-CreatingaCustomAlert[Creating a Custom
Alert]
* link:#CustomApplicationAlerts-CreatingaNotificationError[Creating a
Notification Error]</pre> 
   </div> 
  </div> 
  <div class="paragraph"> 
   <p>Notifications give you the ability to give visibility into business related events inside your application. For example, you can raise notifications when:</p> 
  </div> 
  <div class="ulist"> 
   <ul> 
    <li> <p>Your application is unable to connect to a remote service</p> </li> 
    <li> <p>An error occurs which requires human intervention, such as a problem with data mapping</p> </li> 
    <li> <p>You want to create a summary of what occurred</p> </li> 
   </ul> 
  </div> 
  <div class="paragraph"> 
   <p>In combination with <a href="/documentation/display/current/Alerts+and+Notifications">alerts</a>, you can direct these notifications to different people to act on the alerts and fix the underlying problems.</p> 
  </div> 
  <div class="paragraph"> 
   <p>This example will illustrate:</p> 
  </div> 
  <div class="ulist"> 
   <ul> 
    <li> <p>How to send business related events as notifications</p> </li> 
    <li> <p>How to send errors as notifications</p> </li> 
    <li> <p>How to send email alerts when notifications arrive</p> </li> 
   </ul> 
  </div> 
  <div class="paragraph"> 
   <p>To create notifications from your application, you’ll use the <a href="http://www.mulesoft.org/connectors/cloudhub-connector">CloudHub connector</a>. This connector allows you to create custom notifications inside your flows and inside your exception strategies.</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="CustomApplicationAlerts-Prerequisites"><a class="anchor" href="#CustomApplicationAlerts-Prerequisites"></a>Prerequisites</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Before going further, you’ll need to complete the <a href="/documentation/display/current/Hello+World+on+CloudHub">Hello World</a> example as this example will build on top of it. In addition, you will need to have "Mavenized" your project within Studio. For more information about how to do this, see the&nbsp;<a href="/documentation/display/current/Using+Maven+with+Mule">Using Maven with Mule</a> section.</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="CustomApplicationAlerts-CloudHubConnector"><a class="anchor" href="#CustomApplicationAlerts-CloudHubConnector"></a>CloudHub Connector</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>First we need to add and configure the CloudHub connector to our previous flow for "Hello World." In Studio, find the <strong>Cloudhub</strong> connector on the right menu and then drag and release it next to the <strong>Set Payload</strong> transformer. It should look something like this:&nbsp;</p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981811/image2014-10-24+18%3A59%3A24.png?version=1&amp;modificationDate=1414202364355" alt="image"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>Open the configuration for the Cloudhub connector. You will need to create a new <strong>Config Reference</strong> for the connector by clicking the plus sign "+" and entering your credentials into the configuration. Then, set the properties like shown in the image below, making sure that you select the <strong>Create notification</strong> operation:</p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981811/image2014-10-24+19%3A2%3A52.png?version=1&amp;modificationDate=1414202572671" alt="image"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>When your domain root is visited, the <a href="http://mulesoft.github.com/cloudhub-connector/mule/cloudhub.html#create-notification-from-flow">create-notification</a>&nbsp;operation on the CloudHub connector will create a "Hello World!" notification message for the domain that the application is currently running on. When running on CloudHub, this connector will authenticate automatically using a token from the environment so that it can be authenticated to post notifications to CloudHub. When running locally, this operation will send the message to the INFO log level.</p> 
  </div> 
  <table class="tableblock frame-all grid-all spread"> 
   <colgroup> 
    <col style="width: %;"> 
    <col style="width: %;"> 
   </colgroup> 
   <tbody> 
    <tr> 
     <td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="/documentation/images/icons/emoticons/warning.png" alt="image"></span></p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">If you always want to create notifications on CloudHub, even when running locally, you can use the &lt;create-notification/&gt;. This will require you to configure the connector with your username and password when running locally.</p></td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="CustomApplicationAlerts-DeployingYourApplication"><a class="anchor" href="#CustomApplicationAlerts-DeployingYourApplication"></a>Deploying Your Application</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>To deploy your application, right-click the <strong>hello_world</strong> project, click <strong>CloudHub</strong>, and then click <strong>Deploy to CloudHub</strong>. Maven will automatically handle the CloudHub dependencies for you.</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="CustomApplicationAlerts-TriggeringYourNotification"><a class="anchor" href="#CustomApplicationAlerts-TriggeringYourNotification"></a>Triggering Your Notification</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Once your application is running, you can trigger the notification by simply going to your application’s URL, for example:&nbsp;http://YOURAPP.cloudhub.io/hello-notification[<a href="http://YOURAPP.cloudhub.io/" class="bare">http://YOURAPP.cloudhub.io/</a>]. The page should display a `Hello World&nbsp;`message, and automatically create a new notification in your CloudHub console. Next, return to the CloudHub console and you will see a new notification indicator in the top-right.</p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981811/image2014-10-24+19%3A10%3A53.png?version=1&amp;modificationDate=1414203053709" alt="image"></span></p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="CustomApplicationAlerts-CreatingaCustomAlert"><a class="anchor" href="#CustomApplicationAlerts-CreatingaCustomAlert"></a>Creating a Custom Alert</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Alerts allow you to send emails based on your application notifications. To create a custom alert for your application notification, click on your hello world application, and then click <strong>Alerts&nbsp;</strong>from the left menu. On the&nbsp;<strong>New Alert</strong> dialog,&nbsp;</p> 
  </div> 
  <div class="ulist"> 
   <ul> 
    <li> <p>Click <strong>New alert</strong></p> </li> 
    <li> <p>Enter an alert name, "Hello World"</p> </li> 
    <li> <p>Optionally select your application name or leave the selection as "any"</p> </li> 
    <li> <p>Select "custom application notification" as the event type</p> </li> 
    <li> <p>Enter "Hello" as the text you want the notification to match</p> </li> 
    <li> <p>Enter email addresses that you wish to email to</p> </li> 
    <li> <p>Click <strong>Create</strong></p> </li> 
   </ul> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981811/image2014-10-24+19%3A14%3A23.png?version=1&amp;modificationDate=1414203264307" alt="image"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>This will create your alert. Now, trigger your notification again by going to your application’s URL, for example:&nbsp;http://YOURAPP.cloudhub.io/hello-notification[<a href="http://YOURAPP.cloudhub.io/" class="bare">http://YOURAPP.cloudhub.io/</a>]. You will shortly receive an email with your notification in it!</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="CustomApplicationAlerts-CreatingaNotificationError"><a class="anchor" href="#CustomApplicationAlerts-CreatingaNotificationError"></a>Creating a Notification Error</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>In addition to sending notifications from business events, you may want to send notifications when errors happen so they can be acted upon. To do this, you can use the CloudHub connector inside an catch exception strategy. To do this, add the following XML to your mule-config.xml:</p> 
  </div> 
  <div class="paragraph"> 
   <p>This flow will throw an exception and create a notification from that exception with the message "Error processing transaction." The exception stack trace for the flow will be attached to the message. This can optionally be turned off using the attachStacktrace attribute.</p> 
  </div> 
  <div class="paragraph"> 
   <p>As before, <a href="#CustomApplicationAlerts-buildanddeploy">build and deploy your application</a>, and then go to the URL: <a href="http://YOURAPP.cloudhub.io/create-notification-from-exception" class="bare">http://YOURAPP.cloudhub.io/create-notification-from-exception</a>. Then return to the CloudHub console, and you will see a notification pop-up in the top-right. Click on the notifications link and you will see the notification with the stack trace in the notifications list.</p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981811/notifications+-+exception.png?version=1&amp;modificationDate=1414198435994" alt="image"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>To view the whole stack trace and details, click "More…​" and you will see the whole message in a pop-up window like the one below.</p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="/documentation/download/attachments/118981811/notifications+-+stack+trace.png?version=1&amp;modificationDate=1414198436006" alt="image"></span></p> 
  </div> 
 </div> 
</div>

            </div>
        </div>
    </div>
</div>
</body>
</html>
